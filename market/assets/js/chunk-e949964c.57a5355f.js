(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e949964c"],{"0837":function(e,t){t.emailValid=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Email inválido"},t.minLength=function(e){return function(t){return t.length>=e||"Mínimo de caracteres permitido: ".concat(e)}},t.maxLength=function(e){return function(t){return t.length<=e||"Máximo de caracteres permitido: ".concat(e)}},t.required=function(e){return!!e||"Campo requerido"}},"269a":function(e,t){e.exports=function(e,t){var n="function"===typeof e.exports?e.exports.extendOptions:e.options;for(var r in"function"===typeof e.exports&&(n.directives=e.exports.options.directives),n.directives=n.directives||{},t)n.directives[r]=n.directives[r]||t[r]}},"2bfd":function(e,t,n){},5524:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{directives:[{name:"resize",rawName:"v-resize",value:e.resize,expression:"resize"}],staticClass:"address",attrs:{fluid:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"text-center pa-4 title",attrs:{cols:"12"}},[e._v("\n      Información de la dirección\n    ")]),n("v-col",{staticClass:"px-4 py-0",attrs:{cols:"12",sm:"6"}},[n("v-autocomplete",e._b({ref:"input_address",attrs:{items:e.locationFoundItems,"search-input":e.locationSearchText,"item-text":"value","item-value":"id","hide-no-data":"","return-object":""},on:{"update:searchInput":function(t){e.locationSearchText=t},"update:search-input":function(t){e.locationSearchText=t}},model:{value:e.form.address.value,callback:function(t){e.$set(e.form.address,"value",t)},expression:"form.address.value"}},"v-autocomplete",e.form.address.props,!1))],1),n("v-col",{staticClass:"px-4 py-0",attrs:{cols:"12",sm:"6"}},[n("v-text-field",e._b({model:{value:e.form.references.value,callback:function(t){e.$set(e.form.references,"value",t)},expression:"form.references.value"}},"v-text-field",e.form.references.props,!1))],1),n("v-col",{staticClass:"pa-4 py-0",attrs:{cols:"12"}},[n("GmapMap",{ref:"mapRef",staticClass:"pa-3",staticStyle:{width:"100%",height:"500px"},attrs:{center:e.center,zoom:10,"map-type-id":"terrain"}},[n("GmapMarker",{attrs:{position:{lat:e.markerPosition.lat,lng:e.markerPosition.lng},clickable:!0,draggable:!0,paths:e.coveragePolygon,path:e.coveragePolygon},on:{dragend:e.updateLocation}})],1)],1),n("v-col",{staticClass:"pa-4 pt-0 subtitle-2",attrs:{cols:"12"}},[e._v("\n      ¿Está bien el mapa? Puedes cambiar la ubicación.\n    ")]),n("v-row",{staticClass:"pa-4",attrs:{"no-gutters":"",justify:"space-around"}},[n("v-col",{staticClass:"text-center subtitle-1",attrs:{cols:"12"}},[e._v("\n        Esta es la dirección de mi:\n      ")]),e._l(e.aliasArray,(function(t,r){return n("v-col",{key:r,staticClass:"pa-4",attrs:{cols:"6",sm:"3",md:"3",align:"center"}},[n("v-card",{staticClass:"px-1 py-4 transition-delay",attrs:{"max-width":"150","max-height":"90",color:e.aliasSelected==t.title?"primary":"white"},on:{click:function(n){return e.selectAlias(t.title)}}},[n("v-container",{staticClass:"pa-0",attrs:{"fill-height":""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12",alig:"center"}},[n("v-icon",{attrs:{"x-large":"",color:e.aliasSelected==t.title?"white":"primary"}},[e._v(e._s(t.icon))])],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"text-center text-uppercase font-weight-bold ",class:[e.aliasSelected==t.title?"white--text":"primary--text",e.smallScreen?"caption":" "],attrs:{cols:"12"}},[e._v("\n                "+e._s(t.title)+"\n              ")])],1)],1)],1)],1)}))],2),"Otro"==e.aliasSelected?n("v-col",{staticClass:"px-4 py-0",attrs:{cols:"12"}},[n("v-text-field",e._b({model:{value:e.form.other.value,callback:function(t){e.$set(e.form.other,"value",t)},expression:"form.other.value"}},"v-text-field",e.form.other.props,!1))],1):e._e(),n("v-col",{staticClass:"text-center pa-4",attrs:{cols:"12"}},[n("v-btn",{attrs:{disabled:!e.validForm,color:"primary",width:"200"},on:{click:e.saveAddressInfo}},[e._v("Guardar")])],1)],1)],1)},a=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("6b54"),n("bd86")),s=(n("96cf"),n("3b8d")),o=n("58d3"),c=n("265f"),l=n("d225"),u=n("b0b4"),d=n("0837"),h={address:{value:"",props:{outlined:!0,id:"address",label:"Dirección",placeholder:"Ingresa tu dirección para descubrir tu zona","background-color":"rgba(0, 0, 0, 0.07)","persistent-hint":!0,rules:[d["required"]]}},references:{value:"",props:{filled:!0,id:"references",label:"Referencias de dirección",placeholder:"¿Alguna referencia para identificar tu dirección?","background-color":"rgba(0, 0, 0, 0.07)","persistent-hint":!0,rules:[d["required"],Object(d["maxLength"])(300)]}},other:{value:"",props:{filled:!0,id:"other",label:"Otro alias de dirección",placeholder:"Escribe aquí el alias de la dirección","background-color":"rgba(0, 0, 0, 0.07)","persistent-hint":!0,rules:[d["required"],Object(d["maxLength"])(100)]}}},p=function(){function e(){Object(l["a"])(this,e)}return Object(u["a"])(e,null,[{key:"getAddressForm",value:function(){return h}}]),e}(),f=n("2f62");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={data:function(){return{smallScreen:!1,locationSearchText:null,locationEntries:[],center:{lat:17.98398998452883,lng:-92.93958413281251},markerPosition:{lat:17.98398998452883,lng:-92.93958413281251},aliasSelected:"",form:p.getAddressForm(),map:null}},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getCoverages();case 2:return e.next=4,this.$refs.mapRef.$mapPromise;case 4:t=e.sent,Object(o["a"])(this.coveragePolygon,t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),computed:v(v({},Object(f["d"])("address",["aliasArray","addressData","coveragePolygon"])),{},{locationFoundItems:function(){return this.locationEntries},validForm:function(){return!!(this.aliasSelected.length>0&&this.form.address.value.value&&this.form.references.value.length>0&&this.markerPosition.lat&&this.markerPosition.lng)&&!("Otro"==this.aliasSelected&&this.form.other.value.length<=0)}}),watch:{locationSearchText:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["e"])(t);case 3:n=e.sent,this.locationEntries=n,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),Object(c["a"])(e.t0.code);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}(),"form.address.value":function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["d"])(t.value);case 2:n=e.sent,this.form.address.value.location={latitude:n.lat(),longitude:n.lng()},this.center=n,this.markerPosition={lat:n.lat(),lng:n.lng()};case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},methods:v(v({},Object(f["b"])("address",["saveUserAddress","getCoverages"])),{},{resize:function(){window.innerWidth<375?this.smallScreen=!0:this.smallScreen=!1},selectAlias:function(e){this.aliasSelected=e},updateLocation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.markerPosition={lat:t.latLng.lat(),lng:t.latLng.lng()},this.center=this.markerPosition,e.next=4,Object(o["c"])(this.markerPosition);case 4:return n=e.sent,this.form.address.value.value?(this.form.address.value.value=n.formatted_address,this.form.address.value.id=n.place_id,this.form.address.location={latitude:n.geometry.location.lat(),longitude:n.geometry.location.lng()}):(this.form.address.value={},this.form.address.value.value=n.formatted_address,this.form.address.value.id=n.place_id,this.form.address.location={latitude:n.geometry.location.lat(),longitude:n.geometry.location.lng()}),e.next=8,Object(o["e"])(n.formatted_address);case 8:r=e.sent,this.locationEntries=r;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),saveAddressInfo:function(){var e={alias:"Otro"==this.aliasSelected?this.form.other.value:this.aliasSelected,address:this.form.address.value.value,references:this.form.references.value,latitude:this.markerPosition.lat.toString(),longitude:this.markerPosition.lng.toString()};this.saveUserAddress(e),this.form.references.value="",this.form.other.value="",this.$router.push({name:"home"})}})},b=g,x=(n("9ebd"),n("2877")),y=n("6544"),I=n.n(y),w=n("c6a6"),S=n("8336"),O=n("b0af"),j=n("62ad"),k=n("a523"),P=n("132d"),D=n("0fd9"),C=n("8654"),R=n("269a"),_=n.n(R),F=n("dc22"),V=Object(x["a"])(b,r,a,!1,null,"d3406638",null);t["default"]=V.exports;I()(V,{VAutocomplete:w["a"],VBtn:S["a"],VCard:O["a"],VCol:j["a"],VContainer:k["a"],VIcon:P["a"],VRow:D["a"],VTextField:C["a"]}),_()(V,{Resize:F["a"]})},"58d3":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));n("ac6a"),n("96cf");var r=n("3b8d"),a=(n("265f"),function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(t);case 3:r=e.sent,n=r.map((function(e){return{id:e.place_id,value:e.description}})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0);case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),i=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var r=function(t,r){r!==google.maps.places.PlacesServiceStatus.OK&&n(r),e(t)},a=new google.maps.places.AutocompleteService;t.length>0&&a.getPlacePredictions({input:t,types:["geocode"]},r)})).catch((function(e){throw e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var r=new google.maps.Geocoder;r.geocode({address:t},(function(t,r){"OK"===r?e(t[0].geometry.location):n(r)}))}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new google.maps.Geocoder,e.next=3,new Promise((function(e,r){n.geocode({location:t},(function(t,n){"OK"===n?t[0]&&e(t[0]):r(n)}))}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=[],t.forEach((function(e){r.push({lat:e.latitude,lng:e.longitude})})),a=new google.maps.Polygon({paths:r,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35}),a.setMap(n);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new google.maps.LatLng(t.lat,t.long),a=new google.maps.LatLng(n.lat,n.long),i=new google.maps.DirectionsService,s="DRIVING",o={origin:a,destination:r,travelMode:s},e.next=7,new Promise((function(e,t){i.route(o,(function(n,r){r==google.maps.DirectionsStatus.OK?e(n.routes[0].legs[0].distance):t(r)}))}));case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},"9ebd":function(e,t,n){"use strict";var r=n("c390"),a=n.n(r);a.a},c390:function(e,t,n){},c6a6:function(e,t,n){"use strict";n("8e6e"),n("ac6a"),n("456d"),n("7514");var r=n("bd86"),a=(n("2bfd"),n("b974")),i=n("8654"),s=n("d9f7"),o=n("80d2");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=l(l({},a["b"]),{},{offsetY:!0,offsetOverflow:!0,transition:!1});t["a"]=a["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(e,t,n){return n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:a["a"].options.props.menuProps.type,default:function(){return u}},noFilter:Boolean,searchInput:{type:String,default:void 0}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return l(l({},a["a"].options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var e=this;return this.selectedItems.map((function(t){return e.getValue(t)}))},hasDisplayedItems:function(){var e=this;return this.hideSelected?this.filteredItems.some((function(t){return!e.hasItem(t)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var e=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(t){return e.filter(t,String(e.internalSearch),String(e.getText(t)))}))},internalSearch:{get:function(){return this.lazySearch},set:function(e){this.lazySearch=e,this.$emit("update:search-input",e)}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var e=a["a"].options.computed.$_menuProps.call(this);return e.contentClass="v-autocomplete__content ".concat(e.contentClass||"").trim(),l(l({},u),e)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var e=this;return this.multiple?null:this.selectedItems.find((function(t){return e.valueComparator(e.getValue(t),e.getValue(e.internalValue))}))},listData:function(){var e=a["a"].options.computed.listData.call(this);return e.props=l(l({},e.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),e}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive:function(e){!e&&this.hasSlot&&(this.lazySearch=void 0)},items:function(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput:function(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},methods:{onFilteredItemsChanged:function(e,t){var n=this;e!==t&&(this.setMenuIndex(-1),this.$nextTick((function(){n.internalSearch&&(1===e.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.setMenuIndex(0))})))},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(e){this.searchIsDirty||(this.multiple&&e===o["r"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===o["r"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==o["r"].backspace&&e!==o["r"].delete||this.deleteCurrentItem())},deleteCurrentItem:function(){if(!this.readonly){var e=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===e){var t=this.selectedItems[this.selectedIndex];if(!this.getDisabled(t)){var n=this.selectedIndex===e?this.selectedIndex-1:this.selectedItems[this.selectedIndex+1]?this.selectedIndex:-1;-1===n?this.setValue(this.multiple?[]:void 0):this.selectItem(t),this.selectedIndex=n}}else this.selectedIndex=e}},clearableCallback:function(){this.internalSearch=void 0,a["a"].options.methods.clearableCallback.call(this)},genInput:function(){var e=i["a"].options.methods.genInput.call(this);return e.data=Object(s["a"])(e.data,{attrs:{"aria-activedescendant":Object(o["l"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(o["l"])(e.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),e},genInputSlot:function(){var e=a["a"].options.methods.genInputSlot.call(this);return e.data.attrs.role="combobox",e},genSelections:function(){return this.hasSlot||this.multiple?a["a"].options.methods.genSelections.call(this):[]},onClick:function(e){this.isDisabled||(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput:function(e){if(!(this.selectedIndex>-1)&&e.target){var t=e.target,n=t.value;t.value&&this.activateMenu(),this.internalSearch=n,this.badInput=t.validity&&t.validity.badInput}},onKeyDown:function(e){var t=e.keyCode;a["a"].options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown:function(e){},onTabDown:function(e){a["a"].options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown:function(e){e.preventDefault(),this.activateMenu()},selectItem:function(e){a["a"].options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems:function(){a["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var e=this;this.$nextTick((function(){e.multiple&&e.internalSearch&&e.isMenuActive||(e.internalSearch=!e.selectedItems.length||e.multiple||e.hasSlot?null:e.getText(e.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy:function(e){if(-1!==this.selectedIndex){var t=this.selectedItems[this.selectedIndex],n=this.getText(t);e.clipboardData.setData("text/plain",n),e.clipboardData.setData("text/vnd.vuetify.autocomplete.item+plain",n),e.preventDefault()}}}})}}]);
//# sourceMappingURL=chunk-e949964c.57a5355f.js.map